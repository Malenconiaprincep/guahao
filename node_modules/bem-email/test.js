'use strict'

var assert = require("assert");
var BemEmail = require('./');
let co = require('co');

describe('BemEmail', function() {

  describe('set', function() {

    it('send', function(done) {
      co(function*() {
        let email = new BemEmail({
          AccountName: 'service@notice.bemcloud.com',
          AccessKeySecret: 'LDAxHNXsvIrhe6u8gZdrLhg3Z74Htq',
          AccessKeyId: '8M00ud3AlevC2dJp'
        });
        let result = yield email.sendMail({
          ToAddress: 'zh@seon.im',
          Subject: 'test from aliyun',
          TextBody: 'haha'
        });
        assert.equal(result.Code, null);
      }).then(done, done);
    });

  });

});
