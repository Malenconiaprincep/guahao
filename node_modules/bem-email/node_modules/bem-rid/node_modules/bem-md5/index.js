'use strict';

var crypto = require('crypto');

module.exports = function(str, key) {
  let sum;
  if (key) {
    sum = crypto.createHmac('md5', key);
  } else {
    sum = crypto.createHash('md5');
  }
  sum.update(str);
  return sum.digest('hex');
};
